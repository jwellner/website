box: devillex/docker-firebase

build:
  steps:
    - npm-install
		- npm-test

		- script:
				name: prebuild
				code: |
					echo "npm run-script prebuild"

    - hgen/gulp:
        tasks: build

    - script:
        name: echo nodejs information
        code: |
          echo "node version $(node -v) running"
          echo "npm version $(npm -v) running"

deploy:
  steps:
      - michilu/gcs-website-deploy:
        bucket: www.wllnr.nl
        project: $GOOGLE_PROJECT_ID
        token: $GOOGLE_REFRESH_TOKEN
        dir: build

deploy-firebase:
  steps:
    - devillex/firebase-deploy@1.1.0:
        project: $FIREBASE_PROJECT
        token: $FIREBASE_TOKEN
        message: "Wercker deploy"
